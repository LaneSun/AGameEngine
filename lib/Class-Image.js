export class Image {    constructor(data) {        this.data = data;    }    getData() {        return this.data;    }}export class ImageScope {    constructor() {        this.scope = new Map();    }    add(id, data) {        if (!this.scope.has(id)) {            this.scope.set(id, data);        }    }    get(id) {        return this.scope.get(id).getData();    }}export class ImageLoader {    constructor(scope) {        this.scope = scope;    }    load(id, src) {        return new Promise((resolve) => {            let img = new window.Image();            let promise = new Promise((resolve1) => {                img.onload = () => {                    resolve1();                }            });            let promise2 = new Promise((resolve) => {                promise.then(() => {                    createImageBitmap(img).then((response) => {                        resolve(response);                    });                });            });            promise2.then((data) => {                this.scope.add(id, new Image(data));                resolve();            });            img.src = src;        });    }}